(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4320)}])},4320:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var s=n(5893),o=n(7294),i=n(1526),a=n(5414),l=n(7017),r=n.n(l),d=n(1122);let c=()=>{let e=o.useRef(null),[t,n]=(0,o.useState)(""),[i,l]=(0,o.useState)(""),[r,c]=(0,o.useState)(void 0),[y,h]=(0,o.useState)(!1),[C,f]=(0,o.useState)(!1),[p,x]=(0,o.useState)(""),[m,j]=(0,o.useState)(!1),v=async e=>{e.preventDefault(),x(""),h(!0);let n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})};fetch("/api/askpg",n).then(async e=>{if(!e.ok)throw Error(e.statusText);let t=e.body;if(!t)return;let n=t.getReader(),s=new TextDecoder,o=!1;for(;!o;){let{value:e,done:t}=await n.read();o=t;let i=s.decode(e);x(e=>e+i)}h(!1)})};async function w(){console.log({query:t,answer:p,suggestedAnswer:i,feedback:r}),f(!0);let e=await fetch("/api/fine-tune-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t,answer:p,suggestedAnswer:i,feedback:r})}),n=await e.json();console.log(n),j(!0),f(!1)}let k=n=>{f(!1),t.length&&"Enter"===n.key&&(e.current&&(e.current.style.transform="scale(0.96)",setTimeout(()=>{e.current&&(e.current.style.transform="")},100)),v(n))};return(0,s.jsx)("div",{className:"vercel",children:(0,s.jsxs)(d.m,{ref:e,onKeyDown:k,children:[(0,s.jsx)(d.m.Input,{autoFocus:!0,placeholder:"Ask me about Postgres",onValueChange:e=>{n(e)}}),(0,s.jsxs)(d.m.List,{style:{height:"auto",display:"flex",alignItems:"center",position:"relative",justifyContent:"start"},children:[y&&""===p&&(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(g,{color:"white",style:"large"})}),(0,s.jsx)("p",{style:{fontSize:14,height:"100%",lineHeight:"1.8",marginBottom:48},children:p}),(0,s.jsx)("div",{style:{position:"absolute",bottom:0,right:0,margin:"16px"},children:p&&!y&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,s.jsx)(u,{filled:r,onClick:()=>c(!r||void 0)}),(0,s.jsx)(_,{filled:void 0!==r&&!r,onClick:()=>c(!1===r&&void 0)})]})})})]}),!1===r&&!m&&(0,s.jsx)(a.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,s.jsx)("textarea",{placeholder:"Propose an answer?",style:{width:"100%",height:100,borderRadius:4,borderColor:"#343434",padding:8,fontSize:14,outline:"none",backgroundColor:"inherit",color:"#a1a1a1"},onChange:e=>{l(e.target.value)}}),(0,s.jsx)("div",{style:{position:"absolute",bottom:48,right:0,margin:"16px"},children:(0,s.jsx)("button",{style:{backgroundColor:"transparent",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer",color:"#a1a1a1"},onClick:w,children:C?(0,s.jsx)(g,{color:"white",style:"large"}):"Submit feedback"})})]})})]})})},u=e=>{let{filled:t,onClick:n}=e,o="gray";return(0,s.jsx)("a",{style:{cursor:"pointer"},onClick:n,children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:o,width:24,height:24,xmlns:"http://www.w3.org/2000/svg",children:t?(0,s.jsx)("path",{d:"M7.24001 11V20H5.63001C4.73001 20 4.01001 19.28 4.01001 18.39V12.62C4.01001 11.73 4.74001 11 5.63001 11H7.24001ZM18.5 9.5H13.72V6C13.72 4.9 12.82 4 11.73 4H11.64C11.24 4 10.88 4.24 10.72 4.61L7.99001 11V20H17.19C17.92 20 18.54 19.48 18.67 18.76L19.99 11.26C20.15 10.34 19.45 9.5 18.51 9.5H18.5Z",fill:o}):(0,s.jsx)("path",{d:"M20.22 9.55C19.79 9.04 19.17 8.75 18.5 8.75H14.47V6C14.47 4.48 13.24 3.25 11.64 3.25C10.94 3.25 10.31 3.67 10.03 4.32L7.49 10.25H5.62C4.31 10.25 3.25 11.31 3.25 12.62V18.39C3.25 19.69 4.32 20.75 5.62 20.75H17.18C18.27 20.75 19.2 19.97 19.39 18.89L20.71 11.39C20.82 10.73 20.64 10.06 20.21 9.55H20.22ZM5.62 19.25C5.14 19.25 4.75 18.86 4.75 18.39V12.62C4.75 12.14 5.14 11.75 5.62 11.75H7.23V19.25H5.62ZM17.92 18.63C17.86 18.99 17.55 19.25 17.18 19.25H8.74V11.15L11.41 4.9C11.45 4.81 11.54 4.74 11.73 4.74C12.42 4.74 12.97 5.3 12.97 5.99V10.24H18.5C18.73 10.24 18.93 10.33 19.07 10.5C19.21 10.67 19.27 10.89 19.23 11.12L17.91 18.62L17.92 18.63Z"})})})},_=e=>{let{filled:t,onClick:n}=e,o="gray";return(0,s.jsx)("a",{style:{cursor:"pointer"},onClick:n,children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:o,width:24,height:24,xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(180deg)"},children:t?(0,s.jsx)("path",{d:"M7.24001 11V20H5.63001C4.73001 20 4.01001 19.28 4.01001 18.39V12.62C4.01001 11.73 4.74001 11 5.63001 11H7.24001ZM18.5 9.5H13.72V6C13.72 4.9 12.82 4 11.73 4H11.64C11.24 4 10.88 4.24 10.72 4.61L7.99001 11V20H17.19C17.92 20 18.54 19.48 18.67 18.76L19.99 11.26C20.15 10.34 19.45 9.5 18.51 9.5H18.5Z",fill:o}):(0,s.jsx)("path",{d:"M20.22 9.55C19.79 9.04 19.17 8.75 18.5 8.75H14.47V6C14.47 4.48 13.24 3.25 11.64 3.25C10.94 3.25 10.31 3.67 10.03 4.32L7.49 10.25H5.62C4.31 10.25 3.25 11.31 3.25 12.62V18.39C3.25 19.69 4.32 20.75 5.62 20.75H17.18C18.27 20.75 19.2 19.97 19.39 18.89L20.71 11.39C20.82 10.73 20.64 10.06 20.21 9.55H20.22ZM5.62 19.25C5.14 19.25 4.75 18.86 4.75 18.39V12.62C4.75 12.14 5.14 11.75 5.62 11.75H7.23V19.25H5.62ZM17.92 18.63C17.86 18.99 17.55 19.25 17.18 19.25H8.74V11.15L11.41 4.9C11.45 4.81 11.54 4.74 11.73 4.74C12.42 4.74 12.97 5.3 12.97 5.99V10.24H18.5C18.73 10.24 18.93 10.33 19.07 10.5C19.21 10.67 19.27 10.89 19.23 11.12L17.91 18.62L17.92 18.63Z"})})})};var y=n(2437),h=n.n(y);let g=e=>{let{color:t="#000",style:n="small"}=e;return(0,s.jsxs)("span",{className:"small"==n?h().loading2:h().loading,children:[(0,s.jsx)("span",{style:{backgroundColor:t}}),(0,s.jsx)("span",{style:{backgroundColor:t}}),(0,s.jsx)("span",{style:{backgroundColor:t}})]})};var C=n(4572);function f(){let[e,t]=(0,o.useState)(!0),n=(0,o.useRef)(null),a=(0,o.useRef)(null);return(0,o.useEffect)(()=>{function e(e){"k"===e.key&&e.metaKey&&e.preventDefault()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,o.useEffect)(()=>{let t=a.current;t&&(e?t.style.overflow="hidden":t.style.overflow="")},[e,a]),(0,s.jsx)("main",{className:r().main,children:(0,s.jsxs)("div",{className:r().content,children:[(0,s.jsx)("div",{className:r().meta,children:(0,s.jsxs)("div",{className:r().info,children:[(0,s.jsx)("h1",{children:"Ask Neon"}),(0,s.jsx)("p",{children:"Answers questions about Postgres and Neon. Powered by OpenAI, Vercel and Neon."})]})}),(0,s.jsxs)(C.fC,{open:!0,children:[(0,s.jsx)(C.xz,{"cmdk-raycast-subcommand-trigger":"",onClick:()=>t(!0),"aria-expanded":e}),(0,s.jsx)(C.VY,{align:"start",className:"raycast-submenu",sideOffset:16,alignOffset:0,onCloseAutoFocus:e=>{var t;e.preventDefault(),null==n||null===(t=n.current)||void 0===t||t.focus()},children:(0,s.jsx)(i.M,{mode:"sync",initial:!0,children:(0,s.jsx)(p,{children:(0,s.jsx)(c,{})},"vercel")})})]})]})})}let p=e=>(0,s.jsx)(a.E.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},style:{marginBottom:50},...e})},2437:function(e){e.exports={loading:"loading-dots_loading__LomzL",spacer:"loading-dots_spacer__nBBvk",blink:"loading-dots_blink__yy72w",loading2:"loading-dots_loading2___zCAu"}},7017:function(e){e.exports={main:"styles_main__AYZNo",content:"styles_content__8yl23",meta:"styles_meta__6yHPv",buttons:"styles_buttons__OQyoB",githubButton:"styles_githubButton__OJTHk",installButton:"styles_installButton__n_y06",switcher:"styles_switcher__4dHBM",activeTheme:"styles_activeTheme__7f9tX",arrow:"styles_arrow__0sPuY",header:"styles_header__3oxjO",versionBadge:"styles_versionBadge__Th5vO",codeBlock:"styles_codeBlock__Av2hw",footer:"styles_footer__DI1lr",line:"styles_line__J4Q97",line2:"styles_line2__z9pkd",line3:"styles_line3__UCBC8",raunoSignature:"styles_raunoSignature__YQ_0_",pacoSignature:"styles_pacoSignature__2NrXE",footerText:"styles_footerText__d1aWm",drawRaunoSignature:"styles_drawRaunoSignature___Lvq3",drawPacoSignature:"styles_drawPacoSignature__rjKWG",showFooter:"styles_showFooter__1w03v"}}},function(e){e.O(0,[894,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);